import{cZ as ne}from"./index.cb7d2b1b.js";var Z={exports:{}};(function(B,I){(function(p,d){d(I)})(ne,function(p){var d=!0;function g(e){return e&&e.circularRefs!==void 0&&e.circularRefs!==null&&(d=e.circularRefs===!0),{circularRefs:d}}function b(e){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(e)}function L(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k=function(){function e(i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),this.value=function o(u){{if(typeof u=="string"){if(!z(u))throw new Error('Invalid number (value: "'+u+'")');return u}if(typeof u!="number")return o(u&&u.valueOf());if(15<J(u+"").length)throw new Error("Invalid number: contains more than 15 digits (value: "+u+")");if(isNaN(u))throw new Error("Invalid number: NaN");if(!isFinite(u))throw new Error("Invalid number: Infinity");return u+""}}(i),this.type="LosslessNumber",this.isLosslessNumber=!0}var r,n;return r=e,(n=[{key:"valueOf",value:function(){var i=parseFloat(this.value),o=J(this.value);if(15<o.length)throw new Error("Cannot convert to number: number would be truncated (value: "+this.value+")");if(!isFinite(i))throw new Error("Cannot convert to number: number would overflow (value: "+this.value+")");if(Math.abs(i)<Number.MIN_VALUE&&!/^0*$/.test(o))throw new Error("Cannot convert to number: number would underflow (value: "+this.value+")");return i}},{key:"toString",value:function(){return this.value}}])&&L(r.prototype,n),e}();function J(e){return(typeof e!="string"?e+"":e).replace(/^-/,"").replace(/e.*$/,"").replace(/^0\.?0*|\./,"")}function z(e){return/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/.test(e)}function A(e,r,n,i){return Array.isArray(n)?i.call(e,r,function(o,u){for(var l=[],a=0;a<o.length;a++)l[a]=A(o,a+"",o[a],u);return l}(n,i)):n&&b(n)==="object"&&!n.isLosslessNumber?i.call(e,r,function(o,u){var l,a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=A(o,l,o[l],u));return a}(n,i)):i.call(e,r,n)}function q(e){return encodeURIComponent(e.replace(/\//g,"~1").replace(/~/g,"~0"))}function H(e){return decodeURIComponent(e).replace(/~1/g,"/").replace(/~0/g,"~")}function $(e){return"#/"+e.map(q).join("/")}var c={NULL:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4,UNKNOWN:5},Q={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0},X={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},V="",N=0,t="",f="",s=c.NULL,j=[],R=[];function h(){N++,t=V.charAt(N)}function v(){for(s=c.NULL,f="";t===" "||t==="	"||t===`
`||t==="\r";)h();if(Q[t])return s=c.DELIMITER,f=t,void h();if(O(t)||t==="-"){if(s=c.NUMBER,t==="-"){if(f+=t,h(),!O(t))throw y("Invalid number, digit expected",N)}else t==="0"&&(f+=t,h());for(;O(t);)f+=t,h();if(t==="."){if(f+=t,h(),!O(t))throw y("Invalid number, digit expected",N);for(;O(t);)f+=t,h()}if(t==="e"||t==="E"){if(f+=t,h(),t!=="+"&&t!=="-"||(f+=t,h()),!O(t))throw y("Invalid number, digit expected",N);for(;O(t);)f+=t,h()}}else if(t!=='"'){if(!G(t)){for(s=c.UNKNOWN;t!=="";)f+=t,h();throw y('Syntax error in part "'+f+'"')}for(s=c.SYMBOL;G(t);)f+=t,h()}else{for(s=c.STRING,h();t!==""&&t!=='"';)if(t==="\\"){h();var e=X[t];if(e!==void 0)f+=e,h();else{if(t!=="u")throw y('Invalid escape character "\\'+t+'"',N);h();for(var r="",n=0;n<4;n++){if(!/^[0-9a-fA-F]/.test(t))throw y("Invalid unicode character");r+=t,h()}f+=String.fromCharCode(parseInt(r,16))}}else f+=t,h();if(t!=='"')throw y("End of string expected");h()}}function G(e){return/^[a-zA-Z_]/.test(e)}function O(e){return"0"<=e&&e<="9"}function y(e,r){return r===void 0&&(r=N-f.length),e=new SyntaxError(e+" (char "+r+")"),e.char=r,e}function C(){if(s!==c.DELIMITER||f!=="{")return function(){if(s!==c.DELIMITER||f!=="[")return function(){if(s!==c.STRING)return function(){if(s!==c.NUMBER)return function(){if(s!==c.SYMBOL)return function(){throw y(f===""?"Unexpected end of json string":"Value expected")}();if(f==="true")return v(),!0;if(f==="false")return v(),!1;if(f!=="null")throw y('Unknown symbol "'+f+'"');return v(),null}();var a=new k(f);return v(),a}();var l=f;return v(),l}();v();var o=[];if(s===c.DELIMITER&&f==="]")return v(),o;var u=R.length;for(R[u]=o;j[u]=o.length+"",o.push(C()),s===c.DELIMITER&&f===",";)v();if(s===c.DELIMITER&&f==="]")return v(),R.length=u,j.length=u,o;throw y('Comma or end of array "]" expected')}();var e,r;v();var n={};if(s===c.DELIMITER&&f==="}")return v(),n;var i=R.length;for(R[i]=n;;){if(s!==c.STRING)throw y("Object key expected");if(r=f,v(),s!==c.DELIMITER||f!==":")throw y("Colon expected");if(v(),n[j[i]=r]=C(),s!==c.DELIMITER||f!==",")break;v()}if(s!==c.DELIMITER||f!=="}")throw y('Comma or end of object "}" expected');return v(),typeof(e=n).$ref=="string"&&Object.keys(e).length===1?function(o){if(!g().circularRefs)return o;for(var u=function(a){if((a=a.split("/").map(H)).shift()!=="#")throw SyntaxError("Cannot parse JSON Pointer: no valid URI fragment");return a[a.length-1]===""&&a.pop(),a}(o.$ref),l=0;l<u.length;l++)if(u[l]!==j[l])throw new Error('Invalid circular reference "'+o.$ref+'"');return R[u.length]}(n):(R.length=i,j.length=i,n)}var S=[],E=[];function F(o,r,n){E=[],S=[];var i,o=typeof r=="function"?r.call({"":o},"",o):o;return typeof n=="number"?10<n?i=W(" ",10):1<=n&&(i=W(" ",n)):typeof n=="string"&&n!==""&&(i=n),D(o,r,i,"")}function D(e,r,n,i){return typeof e=="boolean"||e instanceof Boolean||e===null||typeof e=="number"||e instanceof Number||typeof e=="string"||e instanceof String||e instanceof Date?JSON.stringify(e):e&&e.isLosslessNumber?e.value:Array.isArray(e)?function(o,u,l,a){var T=l?a+l:void 0,w=l?`[
`:"[";if(Y(o))return K(o,u,l,a);var M=E.length;E[M]=o;for(var m=0;m<o.length;m++){var x=m+"",U=typeof u=="function"?u.call(o,x,o[m]):o[m];l&&(w+=T),U!==void 0&&typeof U!="function"?(S[M]=x,w+=D(U,u,l,T)):w+="null",m<o.length-1&&(w+=l?`,
`:",")}return E.length=M,S.length=M,w+=l?`
`+a+"]":"]"}(e,r,n,i):e&&b(e)==="object"?_(e,r,n,i):void 0}function _(e,r,n,i){var o=n?i+n:void 0,u=!0,l=n?`{
`:"{";if(typeof e.toJSON=="function")return F(e.toJSON(),r,n);if(Y(e))return K(e,r,n,i);var a,T,w,M,m,x=E.length;for(a in E[x]=e)e.hasOwnProperty(a)&&(T=typeof r=="function"?r.call(e,a,e[a]):e[a],w=a,m=r,(M=T)===void 0||typeof M=="function"||Array.isArray(m)&&!function(U,ee){for(var P=0;P<U.length;P++)if(U[P]==ee)return!0;return!1}(m,w)||(u?u=!1:l+=n?`,
`:",",w=JSON.stringify(a),l+=n?o+w+": ":w+":",S[x]=a,l+=D(T,r,n,o)));return E.length=x,S.length=x,l+=n?`
`+i+"}":"}"}function Y(e){return E.indexOf(e)!==-1}function K(e,r,n,i){if(!g().circularRefs)throw new Error('Circular reference at "'+$(S)+'"');return e=E.indexOf(e),_({$ref:$(S.slice(0,e))},r,n,i)}function W(e,r){for(var n="";0<r--;)n+=e;return n}p.LosslessNumber=k,p.config=g,p.parse=function(e,r){N=0,t=(V=e).charAt(0),f="",s=c.NULL,R=[],j=[],v();var n=C();if(f!=="")throw y("Unexpected characters");return r?A({"":e=n},"",e,r):n},p.stringify=F,Object.defineProperty(p,"__esModule",{value:!0})})})(Z,Z.exports);function te(B,I){try{const p=B;if(I>p.end||I<p.start)throw new Error("Invalid position");let d=p;const g=[];for(p.kind==="Object"?g.push({kind:"RootObject",astValue:p}):g.push({kind:"RootArray",astValue:p});d.kind==="Object"||d.kind==="Array";)if(d.kind==="Object"){const b=d.members.find(L=>L.start<=I&&L.end>=I);if(!b)throw new Error("Couldn't find child");g.push({kind:"ObjectMember",name:b.key.value,astValue:b,astParent:d}),d=b.value}else{const b=d.values.findIndex(k=>k.start<=I&&k.end>=I);if(b<0)throw new Error("Couldn't find child");const L=d.values[b];g.push({kind:"ArrayMember",index:b,astValue:L,astParent:d}),d=L}return g}catch{return null}}export{te as g,Z as l};
//# sourceMappingURL=newOutline.84c9d5d0.js.map
