{"version":3,"file":"JSONLensRenderer.ff8ee731.js","sources":["../../../../node_modules/.pnpm/jsonpath-plus@7.0.0/node_modules/jsonpath-plus/dist/index-browser-esm.js","../../../hoppscotch-common/src/components/lenses/renderers/JSONLensRenderer.vue"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n * @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n */\n\n/**\n * @typedef {any} AnyItem\n */\n\n/**\n * @typedef {any} AnyResult\n */\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {AnyItem} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {AnyItem} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {AnyResult} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return _createClass(NewError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line n/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (_this3._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m, loc, expr, val, path, parent, parentPropName, callback);\n    });\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n      end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n\n  if (/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/.test(code)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n\n  try {\n    return this.vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n * @typedef {any} ContextItem\n */\n\n/**\n * @typedef {any} EvaluatedResult\n */\n\n/**\n * @callback ConditionCallback\n * @param {ContextItem} item\n * @returns {boolean}\n */\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\nJSONPath.prototype.vm = {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {EvaluatedResult} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n\n      if (!/function/.test(fString)) {\n        fString = 'function ' + fString;\n      }\n\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\n\nexport { JSONPath };\n","<template>\n  <div\n    v-if=\"response.type === 'success' || response.type === 'fail'\"\n    class=\"flex flex-col flex-1\"\n  >\n    <div\n      class=\"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold\"\n    >\n      <label class=\"font-semibold truncate text-secondaryLight\">\n        {{ t(\"response.body\") }}\n      </label>\n      <div class=\"flex items-center\">\n        <ButtonSecondary\n          v-if=\"response.body\"\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"t('state.linewrap')\"\n          :class=\"{ '!text-accent': linewrapEnabled }\"\n          :icon=\"IconWrapText\"\n          @click.prevent=\"linewrapEnabled = !linewrapEnabled\"\n        />\n        <ButtonSecondary\n          v-if=\"response.body\"\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"t('action.filter')\"\n          :icon=\"IconFilter\"\n          :class=\"{ '!text-accent': toggleFilter }\"\n          @click.prevent=\"toggleFilterState\"\n        />\n        <ButtonSecondary\n          v-if=\"response.body\"\n          v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n          :title=\"`${t(\n            'action.download_file'\n          )} <kbd>${getSpecialKey()}</kbd><kbd>J</kbd>`\"\n          :icon=\"downloadIcon\"\n          @click=\"downloadResponse\"\n        />\n        <ButtonSecondary\n          v-if=\"response.body\"\n          v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n          :title=\"`${t(\n            'action.copy'\n          )} <kbd>${getSpecialKey()}</kbd><kbd>.</kbd>`\"\n          :icon=\"copyIcon\"\n          @click=\"copyResponse\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"toggleFilter\"\n      class=\"sticky z-10 flex flex-shrink-0 overflow-x-auto border-b bg-primary top-lowerTertiaryStickyFold border-dividerLight\"\n    >\n      <div\n        class=\"inline-flex items-center flex-1 bg-primaryLight border-divider text-secondaryDark\"\n      >\n        <span class=\"inline-flex items-center flex-1 px-4\">\n          <icon-lucide-search class=\"w-4 h-4 text-secondaryLight\" />\n          <input\n            v-model=\"filterQueryText\"\n            v-focus\n            class=\"input !border-0 !px-2\"\n            :placeholder=\"`${t('response.filter_response_body')}`\"\n            type=\"text\"\n          />\n        </span>\n        <div\n          v-if=\"filterResponseError\"\n          class=\"flex items-center justify-center px-2 py-1 rounded text-tiny text-accentContrast\"\n          :class=\"{\n            'bg-red-500':\n              filterResponseError.type === 'JSON_PARSE_FAILED' ||\n              filterResponseError.type === 'JSON_PATH_QUERY_ERROR',\n            'bg-amber-500': filterResponseError.type === 'RESPONSE_EMPTY',\n          }\"\n        >\n          <icon-lucide-info class=\"svg-icons mr-1.5\" />\n          <span>{{ filterResponseError.error }}</span>\n        </div>\n        <ButtonSecondary\n          v-if=\"response.body\"\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"t('app.wiki')\"\n          :icon=\"IconHelpCircle\"\n          to=\"https://github.com/JSONPath-Plus/JSONPath\"\n          blank\n        />\n      </div>\n    </div>\n    <div ref=\"jsonResponse\" class=\"flex flex-col flex-1 h-auto h-full\"></div>\n    <div\n      v-if=\"outlinePath\"\n      class=\"sticky bottom-0 z-10 flex flex-shrink-0 px-2 overflow-auto overflow-x-auto border-t bg-primaryLight border-dividerLight flex-nowrap\"\n    >\n      <div\n        v-for=\"(item, index) in outlinePath\"\n        :key=\"`item-${index}`\"\n        class=\"flex items-center\"\n      >\n        <tippy\n          interactive\n          trigger=\"click\"\n          theme=\"popover\"\n          :on-shown=\"() => tippyActions[index].focus()\"\n        >\n          <div v-if=\"item.kind === 'RootObject'\" class=\"outline-item\">{}</div>\n          <div v-if=\"item.kind === 'RootArray'\" class=\"outline-item\">[]</div>\n          <div v-if=\"item.kind === 'ArrayMember'\" class=\"outline-item\">\n            {{ item.index }}\n          </div>\n          <div v-if=\"item.kind === 'ObjectMember'\" class=\"outline-item\">\n            {{ item.name }}\n          </div>\n          <template #content=\"{ hide }\">\n            <div\n              v-if=\"item.kind === 'ArrayMember' || item.kind === 'ObjectMember'\"\n            >\n              <div\n                v-if=\"item.kind === 'ArrayMember'\"\n                ref=\"tippyActions\"\n                class=\"flex flex-col focus:outline-none\"\n                tabindex=\"0\"\n                @keyup.escape=\"hide()\"\n              >\n                <SmartItem\n                  v-for=\"(arrayMember, astIndex) in item.astParent.values\"\n                  :key=\"`ast-${astIndex}`\"\n                  :label=\"`${astIndex}`\"\n                  @click=\"\n                    () => {\n                      jumpCursor(arrayMember)\n                      hide()\n                    }\n                  \"\n                />\n              </div>\n              <div\n                v-if=\"item.kind === 'ObjectMember'\"\n                ref=\"tippyActions\"\n                class=\"flex flex-col focus:outline-none\"\n                tabindex=\"0\"\n                @keyup.escape=\"hide()\"\n              >\n                <SmartItem\n                  v-for=\"(objectMember, astIndex) in item.astParent.members\"\n                  :key=\"`ast-${astIndex}`\"\n                  :label=\"objectMember.key.value\"\n                  @click=\"\n                    () => {\n                      jumpCursor(objectMember)\n                      hide()\n                    }\n                  \"\n                />\n              </div>\n            </div>\n            <div\n              v-if=\"item.kind === 'RootObject'\"\n              ref=\"tippyActions\"\n              class=\"flex flex-col\"\n            >\n              <SmartItem\n                label=\"{}\"\n                @click=\"\n                  () => {\n                    jumpCursor(item.astValue)\n                    hide()\n                  }\n                \"\n              />\n            </div>\n            <div\n              v-if=\"item.kind === 'RootArray'\"\n              ref=\"tippyActions\"\n              class=\"flex flex-col\"\n            >\n              <SmartItem\n                label=\"[]\"\n                @click=\"\n                  () => {\n                    jumpCursor(item.astValue)\n                    hide()\n                  }\n                \"\n              />\n            </div>\n          </template>\n        </tippy>\n        <icon-lucide-chevron-right\n          v-if=\"index + 1 !== outlinePath.length\"\n          class=\"opacity-50 text-secondaryLight svg-icons\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport IconWrapText from \"~icons/lucide/wrap-text\"\nimport IconFilter from \"~icons/lucide/filter\"\nimport IconHelpCircle from \"~icons/lucide/help-circle\"\nimport * as LJSON from \"lossless-json\"\nimport * as O from \"fp-ts/Option\"\nimport * as E from \"fp-ts/Either\"\nimport { pipe } from \"fp-ts/function\"\nimport { computed, ref, reactive } from \"vue\"\nimport { JSONPath } from \"jsonpath-plus\"\nimport { useCodemirror } from \"@composables/codemirror\"\nimport { HoppRESTResponse } from \"~/helpers/types/HoppRESTResponse\"\nimport jsonParse, { JSONObjectMember, JSONValue } from \"~/helpers/jsonParse\"\nimport { getJSONOutlineAtPos } from \"~/helpers/newOutline\"\nimport {\n  convertIndexToLineCh,\n  convertLineChToIndex,\n} from \"~/helpers/editor/utils\"\nimport { useI18n } from \"@composables/i18n\"\nimport {\n  useCopyResponse,\n  useResponseBody,\n  useDownloadResponse,\n} from \"@composables/lens-actions\"\nimport { defineActionHandler } from \"~/helpers/actions\"\nimport { getPlatformSpecialKey as getSpecialKey } from \"~/helpers/platformutils\"\n\nconst t = useI18n()\n\nconst props = defineProps<{\n  response: HoppRESTResponse\n}>()\n\nconst { responseBodyText } = useResponseBody(props.response)\n\nconst toggleFilter = ref(false)\nconst filterQueryText = ref(\"\")\n\ntype BodyParseError =\n  | { type: \"JSON_PARSE_FAILED\" }\n  | { type: \"JSON_PATH_QUERY_FAILED\"; error: Error }\n\nconst responseJsonObject = computed(() =>\n  pipe(\n    responseBodyText.value,\n    E.tryCatchK(\n      LJSON.parse,\n      (): BodyParseError => ({ type: \"JSON_PARSE_FAILED\" })\n    )\n  )\n)\n\nconst jsonResponseBodyText = computed(() => {\n  if (filterQueryText.value.length > 0) {\n    return pipe(\n      responseJsonObject.value,\n      E.chain((parsedJSON) =>\n        E.tryCatch(\n          () =>\n            JSONPath({\n              path: filterQueryText.value,\n              json: parsedJSON,\n            }) as undefined,\n          (err): BodyParseError => ({\n            type: \"JSON_PATH_QUERY_FAILED\",\n            error: err as Error,\n          })\n        )\n      ),\n      E.map(JSON.stringify)\n    )\n  } else {\n    return E.right(responseBodyText.value)\n  }\n})\n\nconst jsonBodyText = computed(() =>\n  pipe(\n    jsonResponseBodyText.value,\n    E.getOrElse(() => responseBodyText.value),\n    O.tryCatchK(LJSON.parse),\n    O.map((val) => LJSON.stringify(val, undefined, 2)),\n    O.getOrElse(() => responseBodyText.value)\n  )\n)\n\nconst ast = computed(() =>\n  pipe(\n    jsonBodyText.value,\n    O.tryCatchK(jsonParse),\n    O.getOrElseW(() => null)\n  )\n)\n\nconst filterResponseError = computed(() =>\n  pipe(\n    jsonResponseBodyText.value,\n    E.match(\n      (e) => {\n        switch (e.type) {\n          case \"JSON_PATH_QUERY_FAILED\":\n            return { type: \"JSON_PATH_QUERY_ERROR\", error: e.error.message }\n          case \"JSON_PARSE_FAILED\":\n            return {\n              type: \"JSON_PARSE_FAILED\",\n              error: t(\"error.json_parsing_failed\").toString(),\n            }\n        }\n      },\n      (result) =>\n        result === \"[]\"\n          ? {\n              type: \"RESPONSE_EMPTY\",\n              error: t(\"error.no_results_found\").toString(),\n            }\n          : undefined\n    )\n  )\n)\n\nconst { copyIcon, copyResponse } = useCopyResponse(jsonBodyText)\nconst { downloadIcon, downloadResponse } = useDownloadResponse(\n  \"application/json\",\n  jsonBodyText\n)\n\n// Template refs\nconst tippyActions = ref<any | null>(null)\nconst jsonResponse = ref<any | null>(null)\nconst linewrapEnabled = ref(true)\n\nconst { cursor } = useCodemirror(\n  jsonResponse,\n  jsonBodyText,\n  reactive({\n    extendedEditorConfig: {\n      mode: \"application/ld+json\",\n      readOnly: true,\n      lineWrapping: linewrapEnabled,\n    },\n    linter: null,\n    completer: null,\n    environmentHighlights: true,\n  })\n)\n\nconst jumpCursor = (ast: JSONValue | JSONObjectMember) => {\n  const pos = convertIndexToLineCh(jsonBodyText.value, ast.start)\n  pos.line--\n  cursor.value = pos\n}\n\nconst outlinePath = computed(() =>\n  pipe(\n    ast.value,\n    O.fromNullable,\n    O.map((ast) =>\n      getJSONOutlineAtPos(\n        ast,\n        convertLineChToIndex(jsonBodyText.value, cursor.value)\n      )\n    ),\n    O.getOrElseW(() => null)\n  )\n)\n\nconst toggleFilterState = () => {\n  filterQueryText.value = \"\"\n  toggleFilter.value = !toggleFilter.value\n}\n\ndefineActionHandler(\"response.file.download\", () => downloadResponse())\ndefineActionHandler(\"response.copy\", () => copyResponse())\n</script>\n\n<style lang=\"scss\" scoped>\n.outline-item {\n  @apply cursor-pointer;\n  @apply flex-grow-0 flex-shrink-0;\n  @apply text-secondaryLight;\n  @apply inline-flex;\n  @apply items-center;\n  @apply px-2;\n  @apply py-1;\n  @apply transition;\n  @apply hover: text-secondary;\n}\n</style>\n"],"names":["_typeof","obj","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","p","_isNativeReflectConstruct","_construct","Parent","args","Class","a","_isNativeFunction","fn","_wrapNativeSuper","_cache","Wrapper","_assertThisInitialized","self","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Super","result","NewTarget","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","n","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","e","normalCompletion","didErr","err","step","hasOwnProp","push","item","unshift","NewError","_Error","_super","value","_this","JSONPath","opts","expr","callback","otherTypeCallback","optObj","ret","json","_this2","currParent","currParentProperty","flatten","wrap","_expr","exprList","ea","rslt","valOrPath","resultType","path","fullRetObj","type","preferredOutput","val","parent","parentPropName","hasArrExpr","literalPriority","_this3","retObj","loc","x","addRet","elems","t","l","_x","v","par","pr","cb","addType","valueType","locProp","parts","_iterator","_step","part","rett","tmp","tl","tt","f","m","start","end","code","_v","_vname","pathArr","pointer","cache","subx","normalized","$0","$1","prop","ups","exp","match","moveToAnotherArray","source","conditionCb","il","context","keys","funcs","key","values","vr","funcString","s","func","fString","lastStatementEnd","useI18n","responseBodyText","useResponseBody","toggleFilter","ref","filterQueryText","responseJsonObject","computed","pipe","E.tryCatchK","LJSON.parse","jsonResponseBodyText","E.chain","parsedJSON","E.tryCatch","E.map","E.right","jsonBodyText","E.getOrElse","O.tryCatchK","O.map","LJSON.stringify","O.getOrElse","ast","jsonParse","O.getOrElseW","filterResponseError","E.match","copyIcon","copyResponse","useCopyResponse","downloadIcon","downloadResponse","useDownloadResponse","tippyActions","jsonResponse","linewrapEnabled","cursor","useCodemirror","reactive","jumpCursor","ast2","pos","convertIndexToLineCh","outlinePath","O.fromNullable","getJSONOutlineAtPos","convertLineChToIndex","toggleFilterState","defineActionHandler"],"mappings":"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"}