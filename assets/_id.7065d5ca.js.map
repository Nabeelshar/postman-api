{"version":3,"file":"_id.7065d5ca.js","sources":["../../../hoppscotch-common/src/pages/r/_id.vue","../../../hoppscotch-common/src/pages/r/_id.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-between\">\n    <div\n      v-if=\"invalidLink\"\n      class=\"flex flex-col items-center justify-center flex-1\"\n    >\n      <i class=\"pb-2 opacity-75 material-icons\">error_outline</i>\n      <h1 class=\"text-center heading\">\n        {{ t(\"error.invalid_link\") }}\n      </h1>\n      <p class=\"mt-2 text-center\">\n        {{ t(\"error.invalid_link_description\") }}\n      </p>\n    </div>\n    <div v-else class=\"flex flex-col items-center justify-center flex-1 p-4\">\n      <div\n        v-if=\"shortcodeDetails.loading\"\n        class=\"flex flex-col items-center justify-center flex-1 p-4\"\n      >\n        <SmartSpinner />\n      </div>\n      <div v-else>\n        <div\n          v-if=\"!shortcodeDetails.loading && E.isLeft(shortcodeDetails.data)\"\n          class=\"flex flex-col items-center p-4\"\n        >\n          <i class=\"pb-2 opacity-75 material-icons\">error_outline</i>\n          <h1 class=\"text-center heading\">\n            {{ t(\"error.invalid_link\") }}\n          </h1>\n          <p class=\"mt-2 text-center\">\n            {{ t(\"error.invalid_link_description\") }}\n          </p>\n          <p class=\"mt-4\">\n            <ButtonSecondary\n              to=\"/\"\n              :icon=\"IconHome\"\n              filled\n              :label=\"t('app.home')\"\n            />\n            <ButtonSecondary\n              :icon=\"IconRefreshCW\"\n              :label=\"t('app.reload')\"\n              filled\n              @click=\"reloadApplication\"\n            />\n          </p>\n        </div>\n        <div\n          v-if=\"!shortcodeDetails.loading && E.isRight(shortcodeDetails.data)\"\n          class=\"flex flex-col items-center justify-center flex-1 p-4\"\n        >\n          <h1 class=\"heading\">\n            {{ t(\"state.loading\") }}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch } from \"vue\"\nimport { useRoute, useRouter } from \"vue-router\"\nimport * as E from \"fp-ts/Either\"\nimport { safelyExtractRESTRequest } from \"@hoppscotch/data\"\nimport { useGQLQuery } from \"@composables/graphql\"\nimport { useI18n } from \"@composables/i18n\"\nimport {\n  ResolveShortcodeDocument,\n  ResolveShortcodeQuery,\n  ResolveShortcodeQueryVariables,\n} from \"~/helpers/backend/graphql\"\nimport { getDefaultRESTRequest, setRESTRequest } from \"~/newstore/RESTSession\"\n\nimport IconHome from \"~icons/lucide/home\"\nimport IconRefreshCW from \"~icons/lucide/refresh-cw\"\n\nexport default defineComponent({\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n\n    const t = useI18n()\n\n    const shortcodeDetails = useGQLQuery<\n      ResolveShortcodeQuery,\n      ResolveShortcodeQueryVariables,\n      \"\"\n    >({\n      query: ResolveShortcodeDocument,\n      variables: {\n        code: route.params.id as string,\n      },\n    })\n\n    watch(\n      () => shortcodeDetails.data,\n      () => {\n        if (shortcodeDetails.loading) return\n\n        const data = shortcodeDetails.data\n\n        if (E.isRight(data)) {\n          const request: unknown = JSON.parse(\n            data.right.shortcode?.request as string\n          )\n\n          setRESTRequest(\n            safelyExtractRESTRequest(request, getDefaultRESTRequest())\n          )\n\n          router.push({ path: \"/\" })\n        }\n      }\n    )\n\n    const reloadApplication = () => {\n      window.location.reload()\n    }\n\n    return {\n      E,\n      shortcodeDetails,\n      reloadApplication,\n      t,\n      route,\n      IconHome,\n      IconRefreshCW,\n    }\n  },\n  data() {\n    return {\n      invalidLink: false,\n      shortcodeID: \"\",\n    }\n  },\n  mounted() {\n    if (typeof this.route.params.id === \"string\") {\n      this.shortcodeID = this.route.params.id\n    }\n    this.invalidLink = !this.shortcodeID\n  },\n})\n</script>\n","<template>\n  <div class=\"flex flex-col items-center justify-between\">\n    <div\n      v-if=\"invalidLink\"\n      class=\"flex flex-col items-center justify-center flex-1\"\n    >\n      <i class=\"pb-2 opacity-75 material-icons\">error_outline</i>\n      <h1 class=\"text-center heading\">\n        {{ t(\"error.invalid_link\") }}\n      </h1>\n      <p class=\"mt-2 text-center\">\n        {{ t(\"error.invalid_link_description\") }}\n      </p>\n    </div>\n    <div v-else class=\"flex flex-col items-center justify-center flex-1 p-4\">\n      <div\n        v-if=\"shortcodeDetails.loading\"\n        class=\"flex flex-col items-center justify-center flex-1 p-4\"\n      >\n        <SmartSpinner />\n      </div>\n      <div v-else>\n        <div\n          v-if=\"!shortcodeDetails.loading && E.isLeft(shortcodeDetails.data)\"\n          class=\"flex flex-col items-center p-4\"\n        >\n          <i class=\"pb-2 opacity-75 material-icons\">error_outline</i>\n          <h1 class=\"text-center heading\">\n            {{ t(\"error.invalid_link\") }}\n          </h1>\n          <p class=\"mt-2 text-center\">\n            {{ t(\"error.invalid_link_description\") }}\n          </p>\n          <p class=\"mt-4\">\n            <ButtonSecondary\n              to=\"/\"\n              :icon=\"IconHome\"\n              filled\n              :label=\"t('app.home')\"\n            />\n            <ButtonSecondary\n              :icon=\"IconRefreshCW\"\n              :label=\"t('app.reload')\"\n              filled\n              @click=\"reloadApplication\"\n            />\n          </p>\n        </div>\n        <div\n          v-if=\"!shortcodeDetails.loading && E.isRight(shortcodeDetails.data)\"\n          class=\"flex flex-col items-center justify-center flex-1 p-4\"\n        >\n          <h1 class=\"heading\">\n            {{ t(\"state.loading\") }}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch } from \"vue\"\nimport { useRoute, useRouter } from \"vue-router\"\nimport * as E from \"fp-ts/Either\"\nimport { safelyExtractRESTRequest } from \"@hoppscotch/data\"\nimport { useGQLQuery } from \"@composables/graphql\"\nimport { useI18n } from \"@composables/i18n\"\nimport {\n  ResolveShortcodeDocument,\n  ResolveShortcodeQuery,\n  ResolveShortcodeQueryVariables,\n} from \"~/helpers/backend/graphql\"\nimport { getDefaultRESTRequest, setRESTRequest } from \"~/newstore/RESTSession\"\n\nimport IconHome from \"~icons/lucide/home\"\nimport IconRefreshCW from \"~icons/lucide/refresh-cw\"\n\nexport default defineComponent({\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n\n    const t = useI18n()\n\n    const shortcodeDetails = useGQLQuery<\n      ResolveShortcodeQuery,\n      ResolveShortcodeQueryVariables,\n      \"\"\n    >({\n      query: ResolveShortcodeDocument,\n      variables: {\n        code: route.params.id as string,\n      },\n    })\n\n    watch(\n      () => shortcodeDetails.data,\n      () => {\n        if (shortcodeDetails.loading) return\n\n        const data = shortcodeDetails.data\n\n        if (E.isRight(data)) {\n          const request: unknown = JSON.parse(\n            data.right.shortcode?.request as string\n          )\n\n          setRESTRequest(\n            safelyExtractRESTRequest(request, getDefaultRESTRequest())\n          )\n\n          router.push({ path: \"/\" })\n        }\n      }\n    )\n\n    const reloadApplication = () => {\n      window.location.reload()\n    }\n\n    return {\n      E,\n      shortcodeDetails,\n      reloadApplication,\n      t,\n      route,\n      IconHome,\n      IconRefreshCW,\n    }\n  },\n  data() {\n    return {\n      invalidLink: false,\n      shortcodeID: \"\",\n    }\n  },\n  mounted() {\n    if (typeof this.route.params.id === \"string\") {\n      this.shortcodeID = this.route.params.id\n    }\n    this.invalidLink = !this.shortcodeID\n  },\n})\n</script>\n"],"names":["_sfc_main","defineComponent","route","useRoute","router","useRouter","t","useI18n","shortcodeDetails","useGQLQuery","ResolveShortcodeDocument","watch","data","E.isRight","request","_a","setRESTRequest","safelyExtractRESTRequest","getDefaultRESTRequest","E","IconHome","IconRefreshCW","_hoisted_11","__unplugin_components_1","_openBlock","_createElementBlock","_hoisted_1","_ctx","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_createVNode","_component_ButtonSecondary","_hoisted_14"],"mappings":"8MA8EA,MAAAA,EAAAC,EAAA,CAA+B,OAAA,CAE3B,MAAAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,IAEAC,EAAAC,EAAA,CAIE,MAAAC,EACO,UAAA,CACI,KAAAR,EAAA,OAAA,EACU,CACrB,CAAA,EAGF,OAAAS,EAAA,IAAAH,EAAA,KACyB,IAAA,OAErB,GAAAA,EAAA,QAA8B,OAE9B,MAAAI,EAAAJ,EAAA,KAEA,GAAAK,EAAAD,CAAA,EAAA,CACE,MAAAE,EAAA,KAAA,OAA8BC,EAAAH,EAAA,MAAA,YAAA,YAAAG,EAAA,OACN,EAGxBC,EAAAC,EAAAH,EAAAI,GAAA,CAC2D,EAG3Dd,EAAA,KAAA,CAAA,KAAA,GAAA,CAAA,CAAyB,CAC3B,CACF,EAOF,CAAO,EAAAe,EACL,iBAAAX,EACA,kBANF,IAAA,CACE,OAAA,SAAA,QAAuB,EAMvB,EAAAF,EACA,MAAAJ,EACA,SAAAkB,EACA,cAAAC,CACA,CACF,EACF,MAAA,CAEE,MAAA,CAAO,YAAA,GACQ,YAAA,EACA,CACf,EACF,SAAA,CAEE,OAAA,KAAA,MAAA,OAAA,IAAA,WACE,KAAA,YAAA,KAAA,MAAA,OAAA,IAEF,KAAA,YAAA,CAAA,KAAA,WAAyB,CAE7B,CAAA,4DC3IY,IAAA,iMAUU,IAAA,mEAGR,IAAA,6EAOE,IAAA,+GASHC,EAAA,CAAA,MAAA,wEAiBG,IAAA,wHAjDdC,EACE,OAAAC,EAAA,EAAAC,EAAA,MAAAC,EAAA,CAWMC,EAAA,aAAAH,EAAA,EAAAC,EAAA,MAAAG,EAAA,CAJCC,EACLC,EAAA,KAAAC,EAAAC,EAAAL,EAAA,EAAA,oBAAA,CAAA,EAAA,CAAA,qDA+CI,CAAA,IAAAH,EAAA,EAAAC,EAAA,MAAAQ,EAAA,CA1CJN,EAAA,iBAAA,SAAAH,EAAA,EAAAC,EAAA,MAAAS,EAAA,KAyCM,CAAA,IAAAV,EAAA,EAAAC,EAAA,MAAAU,EAAA,CAlCJ,CAAAR,EAAA,iBAAA,SAAAA,EAAA,EAAA,OAAAA,EAAA,iBAAA,IAAA,GAAAH,EAAA,EAAAC,EAAA,MAAAW,EAAA,CAOOC,EACLP,EAAA,KAAAR,EAAAU,EAAAL,EAAA,EAAA,oBAAA,CAAA,EAAA,CAAA,EAgBIG,EAAA,IAAAQ,EAAAN,EAAAL,EAAA,EAAA,gCAAA,CAAA,EAAA,CAAA,EAPAG,EAAA,IAAAS,EAAA,CAJMC,EAAAC,EAAA,CACS,GAAA,IACf,KAAAd,EAAA,SACQ,OAAA,wBAOR,EAAA,KAAA,EAAA,CAAA,OAAA,OAAA,CAAA,EAJoBa,EAAAC,EAAA,CACX,KAAAd,EAAA,cACH,MAAAA,EAAA,EAAA,YAAA,EACE,OAAA,iFAId,CAAAA,EAAA,iBAAA,SAAAA,EAAA,EAAA,QAAAA,EAAA,iBAAA,IAAA,GAAAH,EAAA,EAAAC,EAAA,MAAAiB,EAAA"}